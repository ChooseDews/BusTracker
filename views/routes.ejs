<html>

<head>

  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

  <style>
    .route {
      padding: 5px;
      border: 1px solid black;
      margin-right: 20px;
    }
    
    .card{
      margin-top: 30px !important;
    }
    
    
    .stops{
      font-size: 10px;
    }
  </style>


</head>

<body>

  <div class="container-fluid">

    <h1>Bus List</h1>




<div class="row">



    <% for(var route in routes) {  
      
      
      
      var route_info = routes[route][0].route;
      var stops = routes[route][0].stops; 
      var buses = routes[route];
    
    
    
    %>


<div class="col-6">

      <div class="card">
        <div class="card-body">
          <h5 class="card-title"><span class="route" style="background-color: <%=route_info.color%>"><%= route_info.short_name %></span>
            <%=route%> (<%= buses.length %>)
          </h5>
          <p class="card-text">
            
            
            <h6>Buses</h6>
          
          <ol>

            <%for(var bus of buses){%>
              
            <li><%=bus.id%> <%=JSON.stringify(bus.position)%></li>
            
            <%}%>
            
            
            </ol>

            <h6>Stops</h6>
            <div class="stops">
            <ol>
          <%for(var stop of stops){%>
              
              <li><b><%=stop.name%></b> - <%=JSON.stringify(stop.position)%></li>
              
              
              
            <%}%> 
              </ol>
          </div>


          </p>
        </div>
      </div>


</div>

      <%}%>
</div>


  </div>

</body>

</html>